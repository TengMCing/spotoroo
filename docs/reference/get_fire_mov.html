<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function calculates the movement of a single fire per step time
indexes. It collects hot spots per step time indexes, then
takes the mean or median of the longitude and latitude as the centre of the
fire."><title>Calculation of the fire movement — get_fire_mov • spotoroo</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculation of the fire movement — get_fire_mov"><meta property="og:description" content="This function calculates the movement of a single fire per step time
indexes. It collects hot spots per step time indexes, then
takes the mean or median of the longitude and latitude as the centre of the
fire."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spotoroo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Clustering-hot-spots.html">Guide to spotoroo</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TengMCing/spotoroo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculation of the fire movement</h1>
      <small class="dont-index">Source: <a href="https://github.com/TengMCing/spotoroo/blob/HEAD/R/get_fire_mov.R" class="external-link"><code>R/get_fire_mov.R</code></a></small>
      <div class="d-none name"><code>get_fire_mov.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the movement of a single fire per <code>step</code> time
indexes. It collects hot spots per <code>step</code> time indexes, then
takes the mean or median of the longitude and latitude as the centre of the
fire.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_fire_mov</span><span class="op">(</span><span class="va">result</span>, <span class="va">cluster</span>, step <span class="op">=</span> <span class="fl">1</span>, method <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>result</dt>
<dd><p><code>spotoroo</code> object. A result of a call to <code><a href="hotspot_cluster.html">hotspot_cluster()</a></code>.</p></dd>


<dt>cluster</dt>
<dd><p>Integer. The membership label of the cluster.</p></dd>


<dt>step</dt>
<dd><p>Integer (&gt;0). Step size used in the calculation of the
fire movement.</p></dd>


<dt>method</dt>
<dd><p>Character. Either "mean" or "median",
method of the calculation of
the centre of the fire.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.frame. The fire movement.</p><ul><li><p><code>membership</code> : Membership labels.</p></li>
<li><p><code>lon</code> : Longitude of the centre of the fire.</p></li>
<li><p><code>lat</code> : Latitude of the centre of the fire.</p></li>
<li><p><code>timeID</code> : Time indexes.</p></li>
<li><p><code>obsTime</code> : Observed time (approximated).</p></li>
<li><p><code>ignition</code> : Whether or not it is a ignition point.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Time consuming functions (&gt;5 seconds)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Get clustering results</span></span></span>
<span class="r-in"><span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="hotspot_cluster.html">hotspot_cluster</a></span><span class="op">(</span><span class="va">hotspots</span>,</span></span>
<span class="r-in"><span>                          lon <span class="op">=</span> <span class="st">"lon"</span>,</span></span>
<span class="r-in"><span>                          lat <span class="op">=</span> <span class="st">"lat"</span>,</span></span>
<span class="r-in"><span>                          obsTime <span class="op">=</span> <span class="st">"obsTime"</span>,</span></span>
<span class="r-in"><span>                          activeTime <span class="op">=</span> <span class="fl">24</span>,</span></span>
<span class="r-in"><span>                          adjDist <span class="op">=</span> <span class="fl">3000</span>,</span></span>
<span class="r-in"><span>                          minPts <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>                          minTime <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                          ignitionCenter <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>                          timeUnit <span class="op">=</span> <span class="st">"h"</span>,</span></span>
<span class="r-in"><span>                          timeStep <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB; font-weight: bold;">──────────────────────────────── </span><span style="color: #000000; font-weight: bold;">SPOTOROO 0.1.4</span><span style="color: #00BBBB; font-weight: bold;"> ────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Calling Core Function : `hotspot_cluster()`</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #0000BB;">"1"</span> <span style="color: #BB00BB;">time index</span> = <span style="color: #0000BB;">1</span> <span style="color: #BB00BB;">hour</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #BBBB00; font-weight: bold;">Transform</span> <span style="color: #00BB00;">observed time</span> → <span style="color: #00BB00;">time indexes</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB;">970</span> <span style="color: #BB00BB;">time indexes</span> <span style="color: #B2B2B2;">found</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #00BB00;">activeTime</span> = <span style="color: #0000BB;">24</span> <span style="color: #BB00BB;">time indexes</span> | <span style="color: #00BB00;">adjDist</span> = <span style="color: #0000BB;">3000</span> <span style="color: #BB00BB;">meters</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #BBBB00; font-weight: bold;">Cluster</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB;">16</span> clusters <span style="color: #B2B2B2;">found (including noise)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #00BB00;">minPts</span> = <span style="color: #0000BB;">4</span> <span style="color: #BB00BB;">hot spots</span> | <span style="color: #00BB00;">minTime</span> = <span style="color: #0000BB;">3</span> <span style="color: #BB00BB;">time indexes</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #BBBB00; font-weight: bold;">Handle</span> <span style="color: #00BB00;">noise</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB;">6</span> clusters <span style="color: #B2B2B2;">left</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> noise <span style="color: #B2B2B2;">proportion</span> : <span style="color: #0000BB;">0.935</span> %</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #00BB00;">ignitionCenter</span> = <span style="color: #0000BB;">"mean"</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #BBBB00; font-weight: bold;">Compute</span> <span style="color: #00BB00;">ignition points</span> <span style="color: #B2B2B2;">for</span> clusters</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #B2B2B2;">average</span> hot spots : 176.7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #B2B2B2;">average</span> duration : 131.9 <span style="color: #BB00BB;">hours</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #00BB00;">Time taken</span> = <span style="color: #0000BB;">0</span> <span style="color: #BB00BB;">mins</span> <span style="color: #0000BB;">1</span> <span style="color: #BB00BB;">sec</span> <span style="color: #B2B2B2;">for</span> <span style="color: #0000BB;">1070</span> hot spots </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB;">0.001</span> <span style="color: #BB00BB;">secs</span> <span style="color: #B2B2B2;">per</span> hot spot</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB; font-weight: bold;">────────────────────────────────────────────────────────────────────────────────</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Get fire movement of the first cluster</span></span></span>
<span class="r-in"><span>  <span class="va">mov1</span> <span class="op">&lt;-</span> <span class="fu">get_fire_mov</span><span class="op">(</span><span class="va">result</span>, cluster <span class="op">=</span> <span class="fl">1</span>, step <span class="op">=</span> <span class="fl">3</span>, method <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">mov1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    membership      lon       lat timeID             obsTime ignition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           1 149.3000 -37.77000      1 2019-12-29 13:10:00     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           1 149.3067 -37.77778      4 2019-12-29 17:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           1 149.3133 -37.77333      7 2019-12-29 19:20:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           1 149.3100 -37.77000     10 2019-12-29 22:50:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           1 149.2900 -37.77000     24 2019-12-30 12:40:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           1 149.2867 -37.75333     42 2019-12-31 06:50:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           1 149.2850 -37.75249     45 2019-12-31 09:10:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           1 149.2800 -37.74999     48 2019-12-31 12:40:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9           1 149.2800 -37.74999     51 2019-12-31 15:50:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10          1 149.2800 -37.75199     54 2019-12-31 18:10:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11          1 149.2733 -37.76666     65 2020-01-01 05:50:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          1 149.2767 -37.75500     68 2020-01-01 09:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13          1 149.2767 -37.74999     71 2020-01-01 12:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          1 149.2800 -37.74999     74 2020-01-01 14:50:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          1 149.2800 -37.74500     77 2020-01-01 17:20:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          1 149.2720 -37.74800     87 2020-01-02 03:20:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17          1 149.2627 -37.75181     90 2020-01-02 07:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18          1 149.2588 -37.74823     93 2020-01-02 10:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19          1 149.2617 -37.74333     97 2020-01-02 14:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20          1 149.2625 -37.75249    113 2020-01-03 05:40:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21          1 149.2400 -37.75999    116 2020-01-03 08:50:00    FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Get fire movement of the second cluster</span></span></span>
<span class="r-in"><span>  <span class="va">mov2</span> <span class="op">&lt;-</span> <span class="fu">get_fire_mov</span><span class="op">(</span><span class="va">result</span>, cluster <span class="op">=</span> <span class="fl">2</span>, step <span class="op">=</span> <span class="fl">6</span>, method <span class="op">=</span> <span class="st">"median"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">mov2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    membership    lon    lat timeID             obsTime ignition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           2 146.72 -36.84    229 2020-01-08 01:40:00     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           2 146.72 -36.84    235 2020-01-08 08:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           2 146.72 -36.82    241 2020-01-08 14:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           2 146.72 -36.82    254 2020-01-09 03:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           2 146.72 -36.80    260 2020-01-09 08:20:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           2 146.72 -36.84    282 2020-01-10 06:10:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           2 146.76 -36.86    304 2020-01-11 05:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           2 146.76 -36.86    310 2020-01-11 11:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9           2 146.78 -36.90    327 2020-01-12 04:00:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10          2 146.78 -36.90    334 2020-01-12 10:10:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11          2 146.78 -36.89    359 2020-01-13 11:30:00    FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          2 146.82 -36.86    377 2020-01-14 06:00:00    FALSE</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Weihao Li.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

